{"ast":null,"code":"import axios from 'axios';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nconst __default__ = {\n  name: \"LoginPageView\"\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let loading = ref(false);\n    let errorMsg = ref(false);\n    let i = ref(0);\n    const router = useRouter();\n    let id = ref(\"\");\n    let pw = ref(\"\");\n    async function login() {\n      loading.value = true;\n      let formData = {\n        id: id.value,\n        pw: pw.value\n      };\n      const data = await axios.post('/api/login', formData, {\n        \"Content-Type\": 'application/json'\n      });\n      if (!data.data.isSuccess) {\n        i.value++;\n        errorMsg.value = true;\n        loading.value = false;\n      } else if (data.data.isSuccess) {\n        router.replace('/admin');\n      }\n    }\n    function passLogin() {\n      axios.get('/api/login/pass').then(a => {\n        router.replace('/admin');\n      });\n    }\n    const __returned__ = {\n      get loading() {\n        return loading;\n      },\n      set loading(v) {\n        loading = v;\n      },\n      get errorMsg() {\n        return errorMsg;\n      },\n      set errorMsg(v) {\n        errorMsg = v;\n      },\n      get i() {\n        return i;\n      },\n      set i(v) {\n        i = v;\n      },\n      router,\n      get id() {\n        return id;\n      },\n      set id(v) {\n        id = v;\n      },\n      get pw() {\n        return pw;\n      },\n      set pw(v) {\n        pw = v;\n      },\n      login,\n      passLogin,\n      get axios() {\n        return axios;\n      },\n      ref,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["axios","ref","useRouter","__default__","name","loading","errorMsg","i","router","id","pw","login","value","formData","data","post","isSuccess","replace","passLogin","get","then","a"],"sources":["C:/Users/1/Desktop/vvv/frontend/src/views/LoginPageView.vue"],"sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"border-wrapper\">\r\n            <v-icon size=\"256\" icon=\"mdi-account\" color=\"blue\"></v-icon>\r\n            <v-form @submit.prevent=\"login\">\r\n                <v-text-field v-model=\"id\" class=\"input\" label=\"Admin ID: admin\" bg-color=\"white\"></v-text-field>\r\n                <v-text-field v-model=\"pw\" class=\"input\" label=\"Admin Password: 0000\" bg-color=\"white\"\r\n                type=\"password\"></v-text-field>\r\n                <v-btn :loading=\"loading\" size=\"x-large\" type=\"submit\" block class=\"mt-2\" color=\"primary\">Get JSON Web Token</v-btn>\r\n            </v-form>\r\n            <div v-show=\"errorMsg\" class=\"mt-4\" style=\"color: red;\">로그인 실패 {{ \"(\" + i + \")\" }}</div>\r\n        </div>\r\n        <v-btn class=\"mt-5\" color=\"red\" @click=\"passLogin\">\r\n            로그인 백도어\r\n        </v-btn>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\n\r\nimport axios from 'axios';\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router';\r\n\r\n\r\nlet loading = ref(false);\r\n\r\nlet errorMsg = ref(false);\r\n\r\nlet i = ref(0);\r\n\r\nconst router = useRouter();\r\n\r\nlet id = ref(\"\");\r\nlet pw = ref(\"\");\r\n\r\n\r\nasync function login() {\r\n    loading.value = true;\r\n    let formData = {\r\n        id: id.value,\r\n        pw: pw.value\r\n    }\r\n    const data = await axios.post('/api/login', formData, { \"Content-Type\": 'application/json' });\r\n    if (!data.data.isSuccess) {\r\n        i.value++;\r\n        errorMsg.value = true;\r\n        loading.value = false;\r\n    } else if (data.data.isSuccess) {\r\n        router.replace('/admin');\r\n    }\r\n}\r\n\r\nfunction passLogin(){\r\n    axios.get('/api/login/pass').then((a)=>{\r\n        router.replace('/admin');\r\n    })\r\n}\r\n\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n    name: \"LoginPageView\",\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    min-width: 768px;\r\n    height: 100vh;\r\n    /* background-color: white; */\r\n    justify-content: center;\r\n}\r\n\r\n.input {\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n\r\n/* .border-wrapper {\r\n    display: inline-block;\r\n    border: 3px solid rgb(64, 162, 219);\r\n    padding: 5vh 5vh;\r\n    border-radius: 10vh;\r\n} */\r\n</style>"],"mappings":"AAqBA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AAyCtC,MAAAC,WAAA,GAAe;EACXC,IAAI,EAAE;AACV,CAAC;;;;;;IAxCD,IAAIC,OAAO,GAAGJ,GAAG,CAAC,KAAK,CAAC;IAExB,IAAIK,QAAQ,GAAGL,GAAG,CAAC,KAAK,CAAC;IAEzB,IAAIM,CAAC,GAAGN,GAAG,CAAC,CAAC,CAAC;IAEd,MAAMO,MAAM,GAAGN,SAAS,CAAC,CAAC;IAE1B,IAAIO,EAAE,GAAGR,GAAG,CAAC,EAAE,CAAC;IAChB,IAAIS,EAAE,GAAGT,GAAG,CAAC,EAAE,CAAC;IAGhB,eAAeU,KAAKA,CAAA,EAAG;MACnBN,OAAO,CAACO,KAAK,GAAG,IAAI;MACpB,IAAIC,QAAQ,GAAG;QACXJ,EAAE,EAAEA,EAAE,CAACG,KAAK;QACZF,EAAE,EAAEA,EAAE,CAACE;MACX,CAAC;MACD,MAAME,IAAI,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,YAAY,EAAEF,QAAQ,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC,CAAC;MAC7F,IAAI,CAACC,IAAI,CAACA,IAAI,CAACE,SAAS,EAAE;QACtBT,CAAC,CAACK,KAAK,EAAE;QACTN,QAAQ,CAACM,KAAK,GAAG,IAAI;QACrBP,OAAO,CAACO,KAAK,GAAG,KAAK;MACzB,CAAC,MAAM,IAAIE,IAAI,CAACA,IAAI,CAACE,SAAS,EAAE;QAC5BR,MAAM,CAACS,OAAO,CAAC,QAAQ,CAAC;MAC5B;IACJ;IAEA,SAASC,SAASA,CAAA,EAAE;MAChBlB,KAAK,CAACmB,GAAG,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAG;QACnCb,MAAM,CAACS,OAAO,CAAC,QAAQ,CAAC;MAC5B,CAAC,CAAC;IACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}